{
"meta": {
  "game_id": "sample-escape-001",
  "title": "ğŸš Drony",
  "version": "0.1.0",
  "locale": "cs-CZ",
  "start_page": "p-intro-1",
  "_note": "Hra pro 1. stupeÅˆ - Drony ğŸš",
  "timer": {
    "enabled": true,
    "seconds": 1800,
    "warning_at": 800,
    "show": true,
    "lose_page": "p-timeout"
  },
  "author": {
    "name": "Patrik VanÄ›k",
    "logo": "https://raw.githubusercontent.com/vanekpa/canvaveskole/refs/heads/main/eg_logo.png",
    "url": "https://canvaveskole.com/",
    "text": "CanvaVeÅ kole.com",
    "position": "bottom-left"
        }
    },

  "assets": {
    "colors": ["red","orange","yellow","green","blue","purple","pink","brown"],
    "shapes": ["â—¯","â– ","â–²","â˜…","â¤","â—†"],
    "shape_svgs": {
    "â—¯": "<svg viewBox='0 0 80 80'><circle cx='40' cy='40' r='30' fill='#8BD3DD' stroke='#1E293B' stroke-width='6'/></svg>",
    "â– ": "<svg viewBox='0 0 80 80'><rect x='12' y='12' width='56' height='56' rx='10' fill='#FBBF24' stroke='#1E293B' stroke-width='6'/></svg>",
    "â–²": "<svg viewBox='0 0 80 80'><polygon points='40,10 70,70 10,70' fill='#34D399' stroke='#1E293B' stroke-width='6'/></svg>",
    "â˜…": "<svg viewBox='0 0 80 80'><path d='M40 8l9 20 22 3-16 15 4 22-19-10-19 10 4-22L9 31l22-3z' fill='#A78BFA' stroke='#1E293B' stroke-width='6'/></svg>",
    "â¤": "<svg viewBox='0 0 80 80'><path d='M40 68C5 45 16 18 34 20c6 1 9 5 6 8 3-3 6-7 12-8 18-2 29 25-12 48z' fill='#FB7185' stroke='#1E293B' stroke-width='6'/></svg>",
    "â—†": "<svg viewBox='0 0 80 80'><polygon points='40,6 74,40 40,74 6,40' fill='#60A5FA' stroke='#1E293B' stroke-width='6'/></svg>"
  },
    "arrows": { "up": "U", "down": "D", "left": "L", "right": "R" },

    "keyboards": {
      "numeric": { "layout": "0123456789", "max_len": 6 },
      "alpha": { "layout": "ABCDEFGHIJKLMNOPQRSTUVWXYZ", "max_len": 12 },
      "arrows": { "layout": ["â†‘","â†“","â†","â†’"], "max_len": 8 },
      "colors": { "layout_ref": "colors", "max_len": 8 },
      "shapes": { "layout_ref": "shapes", "max_len": 8 },
      "cryptex": {
        "_note": "Definice koleÄek kryptexu â€“ kaÅ¾dÃ© koleÄko mÃ¡ vlastnÃ­ sadu znakÅ¯.",
        "wheels": [
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
        ]
      }
    }
  },

  "pages": [  
    {
      "id": "p-timeout",
      "type": "info",
      "info": {
        "title": "â° ÄŒas vyprÅ¡el",
        "text": "NevadÃ­! Zkus to znovu â€“ zvlÃ¡dneÅ¡ to.",
        "badge": "story"
      },
      "ui": {
        "icon": "lose",
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png"
      },
      "next_on_success": "p-intro-1"
    },
    {
      "id": "p-intro-1",
      "type": "info",
      "info": {
        "title": "ğŸš Dron - 1",
        "text": "ğŸš Dron - 2",
        "tips": ["ğŸš Dron - 3"],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://i.imgur.com/h1wC6F0.mp4",
        "header_icons": ["i","123","abc","arrows","colors","shapes","cryptex","win"]
      },
      "next_on_success": "p-123-1",
      "_note": "Info strÃ¡nka nevyÅ¾aduje vstup â€“ hra mÅ¯Å¾e rovnou zobrazit tlaÄÃ­tko PokraÄovat."
    },

        {
      "id": "p-123-1",
      "type": "lock",
      "lock": {
        "mode": "numeric",
        "input": { "keyboard": "numeric", "length": 5 },
        "answer": "30981",
        "attempts": 3,
        "hint": "Na zahradÄ› to vypadalo, jako by tu AdÃ©lka trÃ©novala kouzla. KaÅ¾dÃ¡ dÃ½nÄ› svÃ­tila jinÃ½m svÄ›tlem, netopÃ½Å™i krouÅ¾ili nad hlavami a koÄky se schovÃ¡valy pod keÅ™i."
      },
      "info": {
        "title": "ÄŒÃ­selnÃ½ zÃ¡mek",
        "story": "Na zahradÄ› to vypadalo, jako by tu AdÃ©lka trÃ©novala kouzla. KaÅ¾dÃ¡ dÃ½nÄ› svÃ­tila jinÃ½m svÄ›tlem, netopÃ½Å™i krouÅ¾ili nad hlavami a koÄky se schovÃ¡valy pod keÅ™i."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/escapegame/refs/heads/main/policie.png", "icon": "123" },
      "next_on_success": "p-SHAPES-2",
      "next_on_fail": "p-123-1"
    },

     {
      "id": "p-SHAPES-2",
      "type": "shapes",
      "lock": {
        "mode": "shapes",
        "input": { "keyboard": "shapes", "length": 3 },
        "answer": ["â—¯","â˜…","â–²"],
        "attempts": 3,
        "hint": "Kdo poznÃ¡, co mÃ¡m dneska pÅ™ipraveno, zjistÃ­, proÄ jsme se vlastnÄ› seÅ¡li. DÄ›ti si zaÄaly vÅ¡Ã­mat drobnostÃ­ kolem sebeâ€¦ a pomalu jim zaÄÃ­nalo dochÃ¡zet, jakÃ© slovo AdÃ©lka skrÃ½vÃ¡."
      },
      "info": {
        "title": "HorskÃ¡ sluÅ¾ba",
        "story": "Kdo poznÃ¡, co mÃ¡m dneska pÅ™ipraveno, zjistÃ­, proÄ jsme se vlastnÄ› seÅ¡li. DÄ›ti si zaÄaly vÅ¡Ã­mat drobnostÃ­ kolem sebeâ€¦ a pomalu jim zaÄÃ­nalo dochÃ¡zet, jakÃ© slovo AdÃ©lka skrÃ½vÃ¡."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/escapegame/refs/heads/main/15.png", "icon": " " },
      "next_on_success": "p-SHAPES-3",
      "next_on_fail": "p-SHAPES-2"
    },

       {
      "id": "p-SHAPES-3",
      "type": "lock",
      "lock": {
        "mode": "shapes",
        "input": { "keyboard": "shapes", "length": 6 },
        "answer": ["â˜…","â—†","â–²","â– ","â—¯","â¤"],
        "attempts": 2,
        "hint": "V kuchyni stÃ¡ly Å™ady lahviÄek s barevnÃ½mi nÃ¡poji. â€KaÅ¾dÃ½ mÃ¡ rÃ¡d jinou pÅ™Ã­chuÅ¥,â€œ zasmÃ¡la se AdÃ©lka, a Å™Ã­kÃ¡: â€Zlomek + barva v lektvaru. NÃ¡zev, kterÃ½ sedÃ­ ke tvaru.â€"
      },
      "info": { "title": "", "story": "V kuchyni stÃ¡ly Å™ady lahviÄek s barevnÃ½mi nÃ¡poji. â€KaÅ¾dÃ½ mÃ¡ rÃ¡d jinou pÅ™Ã­chuÅ¥,â€œ zasmÃ¡la se AdÃ©lka, a Å™Ã­kÃ¡: â€Zlomek + barva v lektvaru. NÃ¡zev, kterÃ½ sedÃ­ ke tvaru.â€" },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/3.png", "icon": "" },
      "next_on_success": "p-ARROWS-4",
      "next_on_fail": "p-SHAPES-3"
    }, 


    {
      "id": "p-ARROWS-4",
      "type": "lock",
      "lock": {
        "mode": "arrows",
        "input": { "keyboard": "arrows", "length": 5, "show_buttons": true },
        "answer": ["â†’","â†“","â†’","â†’","â†‘"],
        "attempts": 3,
        "hint": "Najednou se z rohu ozvalo pÃ­sknutÃ­. DvÃ­Å™ka skÅ™Ã­nÄ› se pootevÅ™ela a zevnitÅ™ vykoukli pavouÄci. PomÅ¯Å¾ete AdÃ©lce vymÃ©st je ven? ZaÄÅˆete pod kloboukem."
      },
      "info": {
        "title": "",
        "story": "Najednou se z rohu ozvalo pÃ­sknutÃ­. DvÃ­Å™ka skÅ™Ã­nÄ› se pootevÅ™ela a zevnitÅ™ vykoukli pavouÄci. PomÅ¯Å¾ete AdÃ©lce vymÃ©st je ven? ZaÄÅˆete pod kloboukem."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/4.png", "icon": "arrows" },
      "next_on_success": "p-COLORS-5",
      "next_on_fail": "p-ARROWS-4"
    },

    {
      "id": "p-COLORS-5",
      "type": "lock",
      "lock": {
        "mode": "colors",
        "input": { "keyboard": "colors", "length": 5, "show_names": false },
        "answer": ["green","red","orange","pink","blue"],
        "attempts": 2,
        "hint": "Z hudebnÃ­ho pokoje se ozvala veselÃ¡ melodie. Podlaha se zmÄ›nila v pestrobarevnÃ½ parket, kterÃ½ jemnÄ› svÃ­til pod kaÅ¾dÃ½m krokem. â€KaÅ¾dÃ¡ barva mÃ¡ svÃ© kouzlo,â€œ mrkla AdÃ©lka."
      },
      "info": {
        "title": "BarevnÃ½ zÃ¡mek",
        "story": "Zadej poÅ™adÃ­ barev, kterÃ© vidÃ­Å¡."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/5.png", "icon": "colors" },
      "next_on_success": "p-QUIZ-6",
      "next_on_fail": "p-COLORS-5"
    },
    {
  "id": "p-QUIZ-6",
  "type": "lock",
  "lock": {
  "mode": "quiz",
  "draw": 3,
  "min_ratio": 0.8,
  "shuffle_on_retry": true,
  "questions": [
    {
      "text": "Kdy se slavÃ­ Halloween?",
      "answers": [
        { "text": "30. Å™Ã­jna",   "correct": false },
        { "text": "31. Å™Ã­jna",   "correct": true  },
        { "text": "1. listopadu","correct": false }
      ]
    },
    {
      "text": "JakÃ½ je tradiÄnÃ­ anglickÃ½ pozdrav kolednÃ­kÅ¯?",
      "answers": [
        { "text": "Trick or treat!", "correct": true  },
        { "text": "Happy haunting!", "correct": false },
        { "text": "Boo or nothing!", "correct": false }
      ]
    },
    {
      "text": "Z Äeho se tradiÄnÄ› vyÅ™ezÃ¡vÃ¡ Jack-o'-lantern?",
      "answers": [
        { "text": "Z dÃ½nÄ›",   "correct": true  },
        { "text": "Z jablka", "correct": false },
        { "text": "Z melounu","correct": false }
      ]
    }
  ]
},
  "info": {
    "title": "Mini kvÃ­z ğŸƒ",
    "story": "Odemkni zÃ¡mek â€” staÄÃ­ mÃ­t aspoÅˆ 80 % sprÃ¡vnÄ›."
  },
  "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/1.png", "icon": "lock" },
  "next_on_success": "p-CRYPTEX-7",
  "next_on_fail": "p-QUIZ-6"
},

    {
      "id": "p-CRYPTEX-7",
      "type": "lock",
      "lock": {
        "mode": "cryptex",
        "input": { "wheels_ref": "cryptex", "length": 4 },
        "answer": ["D","U","C","H"],
        "attempts": 5,
        "hint": "Splnili jste skoro vÅ¡echny Ãºkoly a zbÃ½vÃ¡ uÅ¾ jen poslednÃ­, abyste se dostali do kouzelnÃ© truhliÄky."
      },
      "info": {
        "title": "Kryptex",
        "story": "Vyhledej si na internetu Morseovu abecedu."
      },
      "ui": {
      "background_imgs": [
        "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/6.png",
        "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/7_v2.png"
                        ],
      "icon": "cryptex"
    },
      "next_on_success": "p-intro-2",
      "next_on_fail": "p-CRYPTEX-7"
    },

    {
     "id": "p-intro-2",
      "type": "info",
      "info": {
        "title": "",
        "text": "KamarÃ¡di, zvlÃ¡dli jste to! PodaÅ™ilo se VÃ¡m otevÅ™Ã­t truhliÄku a zaslouÅ¾Ã­te si odmÄ›nu!",
        "tips": ["PokraÄujte dÃ¡l a najdÄ›te panÃ­ uÄitelku, kterÃ¡ se ukrÃ½vÃ¡ nÄ›kde na chodbÄ›."],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png",
        "reveal_ms": 3500,
        "darken": 0.0,
        "full_bleed": true
      },
      "next_on_success": "p-win",
      "_note": "Info strÃ¡nka nevyÅ¾aduje vstup â€“ hra mÅ¯Å¾e rovnou zobrazit tlaÄÃ­tko PokraÄovat."
    },

    {
      "id": "p-win",
      "type": "info",
      "info": {
        "title": "VyhrÃ¡no! ğŸ‰",
        "text": "VÅ¡echny zÃ¡mky jsou otevÅ™enÃ©. ParÃ¡da!",
        "reward": { "type": "badge", "label": "Master of Locks" }
      },
      "ui": {
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png",
        "full_bleed": true,
        "reveal_ms": 1500,
        "darken": 0.0,
        "fx": ["confetti","sparkle"],
        "icon": "win"
      },
      "next_on_success": null
    }
  ]
}
