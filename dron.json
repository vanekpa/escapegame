{
"meta": {
  "game_id": "sample-escape-001",
  "title": "üöÅ Drony",
  "version": "0.1.0",
  "locale": "cs-CZ",
  "start_page": "p-intro-1",
  "_note": "Hra pro 1. stupe≈à - Drony üöÅ",
  "timer": {
    "enabled": true,
    "seconds": 1800,
    "warning_at": 800,
    "show": true,
    "lose_page": "p-timeout"
  },
  "author": {
    "name": "Patrik Vanƒõk",
    "logo": "https://raw.githubusercontent.com/vanekpa/canvaveskole/refs/heads/main/eg_logo.png",
    "url": "https://canvaveskole.com/",
    "text": "CanvaVe≈†kole.com",
    "position": "bottom-left"
        }
    },

  "assets": {
    "colors": ["red","orange","yellow","green","blue","purple","pink","brown"],
    "shapes": ["‚óØ","‚ñ†","‚ñ≤","‚òÖ","‚ù§","‚óÜ"],
    "shape_svgs": {
    "‚óØ": "<svg viewBox='0 0 80 80'><circle cx='40' cy='40' r='30' fill='#8BD3DD' stroke='#1E293B' stroke-width='6'/></svg>",
    "‚ñ†": "<svg viewBox='0 0 80 80'><rect x='12' y='12' width='56' height='56' rx='10' fill='#FBBF24' stroke='#1E293B' stroke-width='6'/></svg>",
    "‚ñ≤": "<svg viewBox='0 0 80 80'><polygon points='40,10 70,70 10,70' fill='#34D399' stroke='#1E293B' stroke-width='6'/></svg>",
    "‚òÖ": "<svg viewBox='0 0 80 80'><path d='M40 8l9 20 22 3-16 15 4 22-19-10-19 10 4-22L9 31l22-3z' fill='#A78BFA' stroke='#1E293B' stroke-width='6'/></svg>",
    "‚ù§": "<svg viewBox='0 0 80 80'><path d='M40 68C5 45 16 18 34 20c6 1 9 5 6 8 3-3 6-7 12-8 18-2 29 25-12 48z' fill='#FB7185' stroke='#1E293B' stroke-width='6'/></svg>",
    "‚óÜ": "<svg viewBox='0 0 80 80'><polygon points='40,6 74,40 40,74 6,40' fill='#60A5FA' stroke='#1E293B' stroke-width='6'/></svg>"
  },
    "arrows": { "up": "U", "down": "D", "left": "L", "right": "R" },

    "keyboards": {
      "numeric": { "layout": "0123456789", "max_len": 6 },
      "alpha": { "layout": "ABCDEFGHIJKLMNOPQRSTUVWXYZ", "max_len": 12 },
      "arrows": { "layout": ["‚Üë","‚Üì","‚Üê","‚Üí"], "max_len": 8 },
      "colors": { "layout_ref": "colors", "max_len": 8 },
      "shapes": { "layout_ref": "shapes", "max_len": 8 },
      "cryptex": {
        "_note": "Definice koleƒçek kryptexu ‚Äì ka≈æd√© koleƒçko m√° vlastn√≠ sadu znak≈Ø.",
        "wheels": [
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
          "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"
        ]
      }
    }
  },

  "pages": [  
    {
      "id": "p-timeout",
      "type": "info",
      "info": {
        "title": "‚è∞ ƒåas vypr≈°el",
        "text": "Nevad√≠! Zkus to znovu ‚Äì zvl√°dne≈° to.",
        "badge": "story"
      },
      "ui": {
        "icon": "lose",
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png"
      },
      "next_on_success": "p-intro-1"
    },
    {
      "id": "p-intro-1",
      "type": "info",
      "info": {
        "title": "üöÅ Dron - 1",
        "text": "üöÅ Dron - 2",
        "tips": ["üöÅ Dron - 3"],
        "badge": "story"
      },
      "ui": {
        "icon": " ",
        "background_img": "https://i.imgur.com/Gby6hZ4.gif",
        "reveal_ms": 6500,
        "darken": 0.0,
        "full_bleed": true,
        "header_icons": ["i","123","abc","arrows","colors","shapes","cryptex","win"]
      },
      "next_on_success": "p1",
      "_note": "Info str√°nka nevy≈æaduje vstup ‚Äì hra m≈Ø≈æe rovnou zobrazit tlaƒç√≠tko Pokraƒçovat."
    },

        {
      "id": "p1",
      "type": "lock",
      "lock": {
        "mode": "arrows",
        "input": { "keyboard": "arrows", "length": 7, "show_buttons": true },
        "answer": ["‚Üí","‚Üë","‚Üë","‚Üí","‚Üë","‚Üë","‚Üë"],
        "attempts": 3,
        "hint": "Policie spoleƒçnƒõ s des√≠tkou dobrovoln√≠k≈Ø hled√° ztracen√©ho chlapce v lese! Na pomoc se vyd√°v√°≈° i ty s dronem, kter√Ω m√° termokameru, dok√°≈æete chlapce naj√≠t?"
      },
      "info": {
        "title": "Naviguj drona do c√≠le!",
        "story": "Na pomoc se vyd√°v√°≈° i ty s dronem, kter√Ω m√° termokameru, dok√°≈æete chlapce naj√≠t?"
      },
      "ui": {
      "background_imgs":[ 
        "https://raw.githubusercontent.com/vanekpa/escapegame/refs/heads/main/D1.png",
        "https://github.com/vanekpa/escapegame/blob/main/D2.png?raw=true"
                        ],
      "icon": "arrows"
      },
      "next_on_success": "p2",
      "next_on_fail": "p1"
    },

        {
      "id": "p2",
      "type": "info",
      "info": {
        "title": "V√Ωbornƒõ!",
        "text": "Zvl√°dli jste v pochoz√≠ s√≠ti navigovat drona a≈æ k chlapci! D√≠ky V√°m je zachr√°nƒõn.",
        "tips": [" "],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://i.imgur.com/jNDcA9n.gif",
        "reveal_ms": 6500,
        "darken": 0.0,
        "full_bleed": true
      },
      "next_on_success": "p3",
      "_note": "Info str√°nka nevy≈æaduje vstup ‚Äì hra m≈Ø≈æe rovnou zobrazit tlaƒç√≠tko Pokraƒçovat."
    },

     {
      "id": "p3",
      "type": "lock",
      "lock": {
        "mode": "numeric",
        "input": { "keyboard": "numeric", "length": 3 },
        "answer": "150",
        "attempts": 3,
        "hint": "Za ≈°kolou, do kter√© chod√≠ tvoji kamar√°di vypukl po≈æ√°r. M√°≈° v√Ωborn√Ω v√Ωhled a tak bere≈° do ruky telefon a vol√°≈°!"
      },
      "info": {
        "title": "Je pot≈ôeba zavolat Hasiƒçe!",
        "story": ""
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/escapegame/refs/heads/main/H1.png", "icon": " " },
      "next_on_success": "p4",
      "next_on_fail": "p3"
    },

       {
      "id": "p4",
      "type": "lock",
      "lock": {
        "mode": "colors",
        "input": { "keyboard": "colors", "length": 4, "show_names": false },
        "answer": ["red","blue","yellow","green"],
        "attempts": 3,
        "hint": "Super! Hasiƒçi jsou na m√≠stƒõ i s dronem, kter√Ω dohl√≠≈æ√≠, aby se po≈æ√°r neroz≈°√≠≈ôil. Je pot≈ôeba na d√°lku spustit vodn√≠ hadice!"
      },
      "info": { "title": "", "story": " " },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/escapegame/refs/heads/main/H2.png", "icon": "" },
      "next_on_success": "p5",
      "next_on_fail": "p4"
    }, 

     {
      "id": "p5",
      "type": "info",
      "info": {
        "title": "V√Ωbornƒõ!",
        "text": "Hasiƒç≈Øm se poda≈ôilo dostat po≈æ√°r pod kontrolu! Skvƒõl√° pr√°ce!",
        "tips": [" "],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://i.imgur.com/MPwSFZ3.gif",
        "reveal_ms": 6500,
        "darken": 0.0,
        "full_bleed": true
      },
      "next_on_success": "p6",
      "_note": "Info str√°nka nevy≈æaduje vstup ‚Äì hra m≈Ø≈æe rovnou zobrazit tlaƒç√≠tko Pokraƒçovat."
    },
        {
      "id": "p6",
    "lock": {
        "mode": "cryptex",
        "input": { "wheels_ref": "cryptex", "length": 4 },
        "answer": ["C","3","D","3"],
        "attempts": 5,
        "hint": "Dron pom√°h√° na poli, kde sek√° traktor. Pomoz mu ohalit sou≈ôadnice, kde se nach√°z√≠ zvƒõ≈ô."
      },
      "info": {
        "title": "Z√°chrana na poli!"
      },
      "ui": {
      "background_imgs":[ 
        "https://raw.githubusercontent.com/vanekpa/canvaveskole/refs/heads/main/Drony%20-%20HRA%20(2).png",
        "https://raw.githubusercontent.com/vanekpa/canvaveskole/refs/heads/main/Drony%20-%20HRA%20(3).png"
                        ],
      "icon": " "
      },
      "next_on_success": "p7",
      "next_on_fail": "p6"
    },
    {
      "id": "p-COLORS-5",
      "type": "lock",
      "lock": {
        "mode": "colors",
        "input": { "keyboard": "colors", "length": 5, "show_names": false },
        "answer": ["green","red","orange","pink","blue"],
        "attempts": 2,
        "hint": "Z hudebn√≠ho pokoje se ozvala vesel√° melodie. Podlaha se zmƒõnila v pestrobarevn√Ω parket, kter√Ω jemnƒõ sv√≠til pod ka≈æd√Ωm krokem. ‚ÄûKa≈æd√° barva m√° sv√© kouzlo,‚Äú mrkla Ad√©lka."
      },
      "info": {
        "title": "Barevn√Ω z√°mek",
        "story": "Zadej po≈ôad√≠ barev, kter√© vid√≠≈°."
      },
      "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/5.png", "icon": "colors" },
      "next_on_success": "p-QUIZ-6",
      "next_on_fail": "p-COLORS-5"
    },
    {
  "id": "p-QUIZ-6",
  "type": "lock",
  "lock": {
  "mode": "quiz",
  "draw": 3,
  "min_ratio": 0.8,
  "shuffle_on_retry": true,
  "questions": [
    {
      "text": "Kdy se slav√≠ Halloween?",
      "answers": [
        { "text": "30. ≈ô√≠jna",   "correct": false },
        { "text": "31. ≈ô√≠jna",   "correct": true  },
        { "text": "1. listopadu","correct": false }
      ]
    },
    {
      "text": "Jak√Ω je tradiƒçn√≠ anglick√Ω pozdrav koledn√≠k≈Ø?",
      "answers": [
        { "text": "Trick or treat!", "correct": true  },
        { "text": "Happy haunting!", "correct": false },
        { "text": "Boo or nothing!", "correct": false }
      ]
    },
    {
      "text": "Z ƒçeho se tradiƒçnƒõ vy≈ôez√°v√° Jack-o'-lantern?",
      "answers": [
        { "text": "Z d√Ωnƒõ",   "correct": true  },
        { "text": "Z jablka", "correct": false },
        { "text": "Z melounu","correct": false }
      ]
    }
  ]
},
  "info": {
    "title": "Mini kv√≠z üéÉ",
    "story": "Odemkni z√°mek ‚Äî staƒç√≠ m√≠t aspo≈à 80 % spr√°vnƒõ."
  },
  "ui": { "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/1.png", "icon": "lock" },
  "next_on_success": "p-CRYPTEX-7",
  "next_on_fail": "p-QUIZ-6"
},

    {
      "id": "p-CRYPTEX-7",
      "type": "lock",
      "lock": {
        "mode": "cryptex",
        "input": { "wheels_ref": "cryptex", "length": 4 },
        "answer": ["D","U","C","H"],
        "attempts": 5,
        "hint": "Splnili jste skoro v≈°echny √∫koly a zb√Ωv√° u≈æ jen posledn√≠, abyste se dostali do kouzeln√© truhliƒçky."
      },
      "info": {
        "title": "Kryptex",
        "story": "Vyhledej si na internetu Morseovu abecedu."
      },
      "ui": {
      "background_imgs": [
        "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/6.png",
        "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/7_v2.png"
                        ],
      "icon": "cryptex"
    },
      "next_on_success": "p-intro-2",
      "next_on_fail": "p-CRYPTEX-7"
    },

    {
     "id": "p-intro-2",
      "type": "info",
      "info": {
        "title": "",
        "text": "Kamar√°di, zvl√°dli jste to! Poda≈ôilo se V√°m otev≈ô√≠t truhliƒçku a zaslou≈æ√≠te si odmƒõnu!",
        "tips": ["Pokraƒçujte d√°l a najdƒõte pan√≠ uƒçitelku, kter√° se ukr√Ωv√° nƒõkde na chodbƒõ."],
        "badge": "story"
      },
      "ui": {
        "icon": "story",
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png",
        "reveal_ms": 3500,
        "darken": 0.0,
        "full_bleed": true
      },
      "next_on_success": "p-win",
      "_note": "Info str√°nka nevy≈æaduje vstup ‚Äì hra m≈Ø≈æe rovnou zobrazit tlaƒç√≠tko Pokraƒçovat."
    },

    {
      "id": "p-win",
      "type": "info",
      "info": {
        "title": "Vyhr√°no! üéâ",
        "text": "V≈°echny z√°mky jsou otev≈ôen√©. Par√°da!",
        "reward": { "type": "badge", "label": "Master of Locks" }
      },
      "ui": {
        "background_img": "https://raw.githubusercontent.com/vanekpa/HalloweenGame/refs/heads/main/8.png",
        "full_bleed": true,
        "reveal_ms": 1500,
        "darken": 0.0,
        "fx": ["confetti","sparkle"],
        "icon": "win"
      },
      "next_on_success": null
    }
  ]
}
