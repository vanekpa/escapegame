to text-[20px] leading-8 text-slate-800">{content}</div>
                </div>
              </div>)}
          </>);
        }

        // ActionBar Component
        function ActionBar({children}) {
          return (
            <div className="sticky bottom-0 left-0 right-0 mt-4 pt-3 pb-[max(12px,env(safe-area-inset-bottom))]
                            bg-gradient-to-t from-white/95 to-white/0 backdrop-blur flex justify-center">
              <div className="flex gap-3">{children}</div>
            </div>
          );
        }

        // Helper functions
        function shuffle(arr){
            const a = arr.slice();
            for (let i=a.length-1;i>0;i--){
                const j = Math.floor(Math.random()*(i+1));
                [a[i],a[j]] = [a[j],a[i]];
            }
            return a;
        }

        const useEnterTo = (fn) => {
            React.useEffect(() => {
                const h = (e) => { if (e.key === "Enter") fn(); };
                window.addEventListener("keydown", h);
                return () => window.removeEventListener("keydown", h);
            }, [fn]);
        };

        const useEnter = (cb) => React.useCallback((e)=>{ if(e.key==="Enter") cb(); },[cb]);

        function onEnter(handler) {
            return (e) => {
                if (e.key === "Enter") {
                    e.preventDefault();
                    handler();
                }
            };
        }

        const statusByPosition = (given=[], answer=[]) =>
            answer.map((a,i) => (given[i] == null ? null : (given[i] === a ? "ok" : "bad")));

        // Lock Router Component
        function LockRouter({ lock, assets, info, onDone, solved }) {
            const L = lock || {};
            
            if (solved) {
                return (
                    <div className="mx-auto max-w-[760px] text-center text-slate-800">
                        <div className="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-emerald-600/90 shadow text-white">
                            <span>‚úÖ</span><span className="font-semibold">Odemƒçeno</span>
                        </div>
                        <div className="mt-3">
                            <button onClick={() => onDone(true)} className="px-6 py-2 rounded-xl bg-amber-500 hover:bg-amber-600 font-semibold text-white">
                                Pokraƒçovat
                            </button>
                        </div>
                    </div>
                );
            }
            return (
                <div className="mx-auto max-w-[760px]">
                    <div className="text-slate-800">
                        {/* HLAVIƒåKA + LUPA */}
                        <div className="flex items-center justify-center gap-2 mb-1 text-amber-600">
                            <span>üîí</span>
                            <h2 className="text-base sm:text-lg font-semibold">
                                {info?.title || "Z√°mek"}
                            </h2>
                            <ZoomHint title={info?.title||"Text"} content={(info?.description||info?.text||L.hint||"").toString()} />
                        </div>
                        
                        {L.hint && (
                            <div className="mb-2 text-[11px] sm:text-xs tracking-wide text-slate-700 bg-amber-100/80 rounded-md px-3 py-1.5">
                                üí° {L.hint}
                            </div>
                        )}

                       